+++
title = "Горячие клавиши"
date = "2023-05-05T15:43:18+03:00"
author = "Иван"
#authorTwitter = "" #do not include @
cover = ""
tags = ["полезное", "администрирование", "linux"]
keywords = ["linux", "горячие клавиши", "xfce", "KDE"]
description = "Как сделать так, чтобы по горячей клавише программа включалась ИЛИ активизировалась (слово для гуглинга Run-or-Raise). Для linux. Xfce или KDE, для других оболочек тоже должно работать (но может делаться проще)."
showFullContent = false
readingTime = true
draft = false
+++

### XFCE

В линуксе (убунту) есть пакет с командой wmctrl. https://superuser.com/a/142957 тут описано, что он позволяет активировать окно по его названию. Т.е. можно сделать скриптик на bash, который по хоткею будет запускаться и либо активировать окно с обсидианом, либо — запускать его, если не был запущен

```bash
bash -c "wmctrl -a 'PARTOFTITLE' || /full/path/to/program"
```

В xfce нужно создать сочетание для горячих клавиш (Settings->Keyboard->Application Shortcuts). Вместо `'PARTOFTITLE'` подставить часть заголовка окна программы, вместо `'/full/path/to/program'` подставить полный путь к программе.

### Принцип работы

Происходящее работает так:

Происходит попытка активации окна, если она успешна - вторая командна не выполняется. Если не успешна - выполняется вторая команда. `||` это ленивый оператор OR, который выполняет вторую команду, только если первая завершилась ошибкой (код завершения != `0`). Есть ещё `&&` - ленивый оператор AND.

### KDE

На КДЕ такое. -x, и на всякий случай класс (-R) - уникальнее. На xfce через классы не смог сделать.
```bash
wmctrl -x -R firefox  || snap run firefox
```

`xprop WM_CLASS` и клик по окну - для узнавания класса.