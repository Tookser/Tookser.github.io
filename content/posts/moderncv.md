+++
title = "ModernCV и мытарства"
date = "2022-04-15T14:51:22+03:00"
author = "Иван"
#authorTwitter = "" #do not include @
cover = ""
tags = ["latex", "администрирование", "texlive"]
keywords = ["moderncv", "резюме"]
description = "Как собрать moderncv просто используя TexLive в Docker."
showFullContent = false
readingTime = true
draft = false
+++
Для справки, **LaTeX** - система вёрстки, обычно для научных статей, **Docker** - система для контейнеризации (нечто вроде виртуальной машины).

Немного предыстории. **[ModernCV](https://github.com/moderncv/moderncv)** - шаблон для LaTeX, позволяющий писать красивенькие резюме в pdf. Требует небольшого знания LaTeX-а. В [документации](https://github.com/moderncv/moderncv/raw/master/manual/moderncv_userguide.pdf) можно посмотреть, как выглядит.

Этот шаблон почему-то упорно не хотел нормально собираться на моей системе, и в итоге нашлось более хорошее решение.

Вот [ссылка на docker-образ](https://github.com/moderncv/debian-texlive-docker/pkgs/container/debian-texlive-docker) образ докера с texlive. В нём это резюме собирается следующим образом (рассказываю вариант под Linux с установленным Docker).

Сначала 

`docker pull ghcr.io/moderncv/debian-texlive-docker:main` - скачивание docker-образа.

Потом создаём контейнер

`docker run -it -v "/путь/к/папке/с/резюме:/mnt" --name ИмяОбраза ghcr.io/moderncv/debian-texlive-docker:main /bin/bash`

Это создаёт docker-контейнер по скачанному docker-образу И запускает его. _ИмяОбраза_ и _/путь/к/папке/с/резюме_ (на вашем диске) нужно заполнить самим. `-it` позволяет работать в терминале внутри контейнера, `-v` монтирует папку к пути `/mnt` _внутри_ докер-контейнера (то есть с папкой `/mnt` исходной системы ничего не происходит).

Теперь нужно выполнить команду

`docker start ИмяКонтейнера`

и

`docker exec -it ИмяКонтейнера /bin/bash`

. Вы окажетесь в терминале, откуда уже можно собрать резюме с помощью TexLive, зайдя в директорию `/mount`. Возможно, понадобится что-то догрузить из пакетов - `apt install ...` (без `sudo` почему-то в этом образе работает) вполне помогало, если вообще понадобилось.

В конце можно остановить контейнер с помощью 

`docker stop ИмяКонтейнера`

.

При повторных использованиях всё так же, начиная с команды

`docker start ИмяКонтейнера`

.

Два момента:

- **блокируется доступ** на запись к файлам в монтируемой папке, что неудобно. 

- судя по всему, можно автоматизировать.